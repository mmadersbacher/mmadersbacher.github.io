<!--?xml version="1.0" encoding="UTF-8"?-->
<svg width="600" height="320" viewBox="0 0 600 320" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Grid -->
    <pattern id="grid" width="24" height="24" patternUnits="userSpaceOnUse">
      <path d="M24 0H0V24" fill="none" stroke="#0f172a" stroke-opacity=".7" stroke-width="1"></path>
    </pattern>

    <!-- Line gradient -->
    <linearGradient id="lineGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0" stop-color="#22d3ee" stop-opacity="0.15"></stop>
      <stop offset="0.5" stop-color="#38bdf8" stop-opacity="0.95"></stop>
      <stop offset="1" stop-color="#60a5fa" stop-opacity="0.15"></stop>
    </linearGradient>

    <!-- Glows -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="b"></feGaussianBlur><feMerge>
        <feMergeNode in="b"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode>
      </feMerge>
    </filter>
    <filter id="nodeGlow" x="-80%" y="-80%" width="260%" height="260%">
      <feGaussianBlur stdDeviation="5" result="g1"></feGaussianBlur>
      <feGaussianBlur stdDeviation="12" result="g2"></feGaussianBlur>
      <feMerge><feMergeNode in="g2"></feMergeNode><feMergeNode in="g1"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge>
    </filter>

    <!-- CSS -->
    <style>
      .mono{font:12px/1.45 ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace}
      .nodeCore{fill:#67e8f9}
      .nodeAura{fill:#22d3ee; opacity:.38}
      .link{stroke:url(#lineGrad)}
      /* Animations */
      @keyframes pulseA{0%{opacity:.55}50%{opacity:1}100%{opacity:.55}}
      @keyframes pulseB{0%{opacity:1}50%{opacity:.55}100%{opacity:1}}
      @keyframes dash{to{stroke-dashoffset:-260}}
      @keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-1.5px)}100%{transform:translateY(0)}}
      @keyframes caret{0%,45%{opacity:1}55%,100%{opacity:.15}}

      /* Prefers-reduced-motion: kill movement, behalte Styles */
      @media (prefers-reduced-motion: reduce){
        .anim{animation:none !important}
      }
    </style>
  </defs>

  <!-- Background -->
  <rect width="600" height="320" fill="#0b1220"></rect>
  <rect width="600" height="320" fill="url(#grid)" opacity=".35"></rect>

  <!-- Topology -->
  <g filter="url(#glow)">
    <!-- Base links -->
    <g stroke-width="2.2" fill="none" class="link">
      <path id="p1" d="M90 210 C150 160, 210 145, 270 160"></path>
      <path d="M270 160 C330 175, 380 205, 430 190"></path>
      <path d="M270 160 C300 120, 350 105, 410 110"></path>
      <path d="M150 120 C210 130, 240 150, 270 160"></path>
      <path d="M410 110 C455 120, 500 135, 540 150"></path>
      <path d="M430 190 C470 210, 520 215, 560 200"></path>
    </g>

    <!-- Scan overlay (robust: dashed stroke that moves) -->
    <g fill="none" stroke="#22d3ee" stroke-width="3" stroke-linecap="round" opacity=".85">
      <path d="M90 210 C150 160, 210 145, 270 160" class="anim" style="stroke-dasharray:14 18; stroke-dashoffset:0; animation:dash 2.2s linear infinite"></path>
      <path d="M270 160 C330 175, 380 205, 430 190" class="anim" style="stroke-dasharray:14 18; stroke-dashoffset:-80; animation:dash 2.2s linear infinite"></path>
      <path d="M270 160 C300 120, 350 105, 410 110" class="anim" style="stroke-dasharray:14 18; stroke-dashoffset:-140; animation:dash 2.2s linear infinite"></path>
    </g>

    <!-- Nodes with aura (pulsed) -->
    <g filter="url(#nodeGlow)">
      <!-- left -->
      <circle cx="90" cy="210" r="11" class="nodeAura anim" style="animation:pulseA 2.8s ease-in-out infinite"></circle>
      <circle cx="90" cy="210" r="7" class="nodeCore"></circle>
      <!-- upper-left -->
      <circle cx="150" cy="120" r="9" class="nodeAura anim" style="animation:pulseB 3.1s ease-in-out infinite .2s"></circle>
      <circle cx="150" cy="120" r="6" class="nodeCore"></circle>
      <!-- center -->
      <circle cx="270" cy="160" r="12" class="nodeAura anim" style="animation:pulseA 2.6s ease-in-out infinite .1s"></circle>
      <circle cx="270" cy="160" r="8" class="nodeCore"></circle>
      <!-- upper-right -->
      <circle cx="410" cy="110" r="10" class="nodeAura anim" style="animation:pulseB 3.0s ease-in-out infinite .4s"></circle>
      <circle cx="410" cy="110" r="6.5" class="nodeCore"></circle>
      <!-- lower-right 1 -->
      <circle cx="430" cy="190" r="11" class="nodeAura anim" style="animation:pulseA 2.9s ease-in-out infinite .3s"></circle>
      <circle cx="430" cy="190" r="7" class="nodeCore"></circle>
      <!-- lower-right 2 -->
      <circle cx="540" cy="150" r="9" class="nodeAura anim" style="animation:pulseB 3.2s ease-in-out infinite .5s"></circle>
      <circle cx="540" cy="150" r="6" class="nodeCore"></circle>
      <!-- far-right -->
      <circle cx="560" cy="200" r="9" class="nodeAura anim" style="animation:pulseA 2.7s ease-in-out infinite .6s"></circle>
      <circle cx="560" cy="200" r="6" class="nodeCore"></circle>
    </g>
  </g>

  <!-- JSON Panel (float + caret) -->
  <g transform="translate(350,22)" class="anim" style="animation:float 5.5s ease-in-out infinite">
    <rect x="0" y="0" width="234" height="140" rx="12" fill="#0f172a" stroke="#1f2a44" stroke-width="1.2"></rect>
    <rect x="0" y="0" width="234" height="30" rx="12" fill="#111827"></rect>
    <circle cx="16" cy="15" r="3" fill="#ef4444"></circle>
    <circle cx="30" cy="15" r="3" fill="#f59e0b"></circle>
    <circle cx="44" cy="15" r="3" fill="#10b981"></circle>

    <g transform="translate(14,46)" class="mono">
      <text y="0" fill="#7dd3fc">{</text>
      <text y="18"><tspan fill="#7dd3fc">  "host"</tspan>: <tspan fill="#a5b4fc">"192.168.1.1"</tspan>,</text>
      <text y="36"><tspan fill="#7dd3fc">  "ports"</tspan>: [<tspan fill="#a5b4fc">22</tspan>, <tspan fill="#a5b4fc">80</tspan>, <tspan fill="#a5b4fc">443</tspan>],</text>
      <text y="54"><tspan fill="#7dd3fc">  "os"</tspan>: <tspan fill="#a5b4fc">"Linux (TTL 64)"</tspan>,</text>
      <text y="72"><tspan fill="#7dd3fc">  "banner"</tspan>: <tspan fill="#a5b4fc">"nginx/1.24"</tspan></text>
      <text y="90" fill="#7dd3fc">}</text>
      <!-- caret -->
      <rect x="190" y="-2" width="8" height="14" fill="#38bdf8" class="anim" style="animation:caret 1.1s steps(1,end) infinite"></rect>
    </g>
  </g>

  <!-- Caption -->
  <text x="24" y="292" class="mono" fill="#38bdf8" opacity=".95">
    NetReconUltra · Parallel Scan · Live Topology
  </text>
</svg>
